---
title: Network booting με το OpenWrt
date: 2012-12-26T13:16:48+00:00
url: /network-booting-with-openwrt/
cover:
    image: network-booting-with-openwrt.jpg
categories:
  - Σοβαρά
tags:
  - netboot
  - network booting
  - openwrt
  - pxeboot
  - pxelinux
  - pxelinux.0

---
Tο φόρτωμα της αγαπημένης μας διανομής από δισκάκι είναι μάλλον ξεπερασμένη πρακτική. Σας αρέσει να κουβαλάτε από μηχάνημα σε μηχάνημα τα δισκάκια σας; Σας αρέσει άραγε ν&#8217; ακούτε τα γουργουρητά του CD/DVD drive, όσο περιμένετε να φορτωθεί το σύστημα; Σ” εμάς όχι και πολύ. Γι&#8217; αυτό κι αποφασίσαμε να απλοποιήσουμε τη διαδικασία — και ταυτόχρονα να την κάνουμε πιο cool: Από εδώ και στο εξής, τα μηχανήματα του σπιτιού μας θα φορτώνουν Linux &#8230;δικτυακά!

Λίγο πολύ, όλοι γνωρίζουμε ότι ένας υπολογιστής έχει την δυνατότητα να φορτώσει το λειτουργικό του μέσω δικτύου. Η λειτουργία αυτή ονομάζεται network booting, αλλά μπορεί να τη συναντήσουμε και σαν LAN boot ή PXE boot. Αυτή η διαδικασία προβλέπει το κατέβασμα μερικών αρχείων, τα οποία περιέχουν μεταξύ άλλων και τις διαθέσιμες επιλογές, δηλαδή τα λειτουργικά συστήματα που διατίθενται για φόρτωση. Στη συνέχεια, ο συνδεδεμένος υπολογιστής φορτώνει κάποιο λειτουργικό μέσω του δικτύου, κατεβάζοντας όλα τα αρχεία από κάποιον άλλο υπολογιστή! Συνήθως, τα δίκτυα που υλοποιούν ένα τέτοιο σύστημα απαρτίζονται από τερματικά με αρκετά περιορισμένες δυνατότητες. Οι υπολογιστές αυτών των δικτύων κατεβάζουν το επιλεγμένο λειτουργικό σύστημα και παράλληλα τα αρχεία του εκάστοτε χρήστη, ώστε να μπορεί οποιοσδήποτε να δουλέψει από οπουδήποτε. Στη συνέχεια θα εξετάσουμε το όλο θέμα, όχι για να στήσουμε ένα εταιρικό δίκτυο αλλά για να καλύψουμε τις ανάγκες μας με έναν όμορφο κι εντυπωσιακό τρόπο. Ας πούμε ότι βαρεθήκαμε να βάζουμε ένα δισκάκι CD σε κάθε υπολογιστή του σπιτιού, όταν θέλουμε να ξεκινήσουμε μια διανομή Linux 😉

Πριν προχωρήσουμε, ας δούμε πώς ξεκινάει ένα σύστημα μέσω δικτύου. Η λογική είναι ακριβώς ίδια με εκείνη του booting από οποιοδήποτε άλλο μέσο. Ο υπολογιστής ξεκινάει κι αναλαμβάνει δράση το PXE ROM της κάρτας δικτύου. Πρόκειται για ένα μικρό πρόγραμμα αποθηκευμένο σε μια ROM, στο hardware του υπολογιστή. Το εν λόγω πρόγραμμα λειτουργεί σαν DHCP client και βοηθάει τον υπολογιστή να συνδεθεί στο δίκτυο και να ξεκινήσει το network booting. Αφού το PXE ROM πάρει την απαραίτητη διεύθυνση IP, λαμβάνει κι ένα αρχείο απαραίτητο για το boot του συστήματος. Το αρχείο αυτό δεν είναι άλλο από τον network bootloader! Στη συνέχεια λοιπόν αναλαμβάνει δράση ο bootloader και μεταφέρει από το δίκτυο τον πυρήνα κι όλα τα αρχεία που συγκροτούν ένα λειτουργικό σύστημα. Όπως αντιλαμβάνεστε, με την ίδια λογική ξεκινούν και οι live διανομές Linux, από τα δισκάκια CD/DVD. Το μόνο που αλλάζει είναι η πηγή προέλευσης των αρχείων. Στην περίπτωση του network boot τα αρχεία προέρχονται από κάποιον υπολογιστή ή συσκευή του δικτύου, ενώ στην περίπτωση των live CD/DVD τα αρχεία προέρχονται από το εκάστοτε δισκάκι. Με άλλα λόγια, η λογική του network booting είναι απλή και γνώριμη.
